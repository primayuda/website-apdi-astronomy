---
import MainLayout from "@/layouts/main-layout.astro";

import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card"

import { Eye, PenTool } from "lucide-react";
import { Button, buttonVariants } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Textarea } from "@/components/ui/textarea";
import { Alert, AlertDescription } from "@/components/ui/alert";


let success = false;
// TODO: validate email and create honeypot for bot
if (Astro.request.method === "POST") {
  try {
    const data = await Astro.request.formData();
    // const name = data.get("name");
    // const email = data.get("email");
    // const message = data.get("message");
    // // Do something with the data
    // console.log(name);
    // console.log(email);
    // console.log(message);
    
    try {
      const object = Object.fromEntries(data);
      const json = JSON.stringify(object);

      let response = await fetch('https://api.web3forms.com/submit', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            },
            body: json
        })
      if (response.status === 200) {
        // Display toast
        success=true;
        console.log(data);
        // alert('form submitted');
      }

    
  } catch (error) {
    console.error(error);
  }

  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
}
---

<MainLayout
  title="Tentang Kami"
  description="Latar belakang berdirinya APDI"
  mainClass="container py-10"
>
  {success && 
    <Alert>
      <AlertDescription className="mb-5">Pesan anda diterima!</AlertDescription>
      <a href="/about" class={buttonVariants({ variant: "outline" })}>Tutup</a>
    </Alert>
    }
  <section class="space-y-10 px-4">
    <h1 class="font-heading text-2xl sm:text-4xl">Latar Belakang Berdirinya Asosiasi Pemimpin Digital Indonesia (APDI)</h1>
    <img src="/images/Member-DLA.jpg" alt="alumni DLA 2021" class="mx-auto rounded-xl shadow-xl shadow-indigo-500/50" />
    
    <ul class="sm:text-xl list-disc">
      <li>Disrupsi teknologi sebagai pintu masuk untuk menata ulang sistem dan proses bisnis semua sektor di Indonesia</li>
      <li>Pemimpin Digital adalah pendorong utama dan pengambilan keputusan strategis dalam proses transformasi dan inovasi digital</li>
      <li>Program Digital Leadership Academy (DLA) yang diselengarakan oleh Kominfo bertujuan untuk mencetak Pemimpin Digital</li>
      <li>Asosiasi Pemimpin Digital Indonesia (APDI) merupakan wadah konsolidasi, potensi, dan representasi Alumni DLA dan Pemimpin Digital lainnya</li>
    </ul>
  
  </section>
  <section class="flex flex-col lg:flex-row gap-10 justify-center mt-20">
    <Card className="drop-shadow-lg shadow-indigo-500/50">
      <CardHeader>
        <CardTitle>Misi</CardTitle>
        <CardDescription><PenTool /></CardDescription>
      </CardHeader>
      <CardContent>
        <p>Membangun sistem dan kapabilitas organisasi untuk mendukung pengembangan kepemimpinan digital. Membangun kolaborasi dan sinergi dengan berbagai pemangku kepentingan untuk mengembangkan ekonomi digital.
        </p>
      </CardContent>
    
    </Card>
    <Card className="drop-shadow-lg shadow-indigo-500/50">
      <CardHeader>
        <CardTitle>Visi</CardTitle>
        <CardDescription><Eye /></CardDescription>
      </CardHeader>
      <CardContent>
        <p>Menjadi asosiasi mitra utama Pemerintah dan Badan Usaha dalam percepatan transformasi dan inovasi digital untuk mencapai tujuan pembangunan nasional dengan menjunjung tinggi nilai moral & etika, integritas secara professional, dan kolaboratif berdasarkan Pancasila</p>
      </CardContent>
      
    </Card>
        
  </section>
  <section id="contact" class="text-gray-600 relative">
    <div class="container px-5 py-24 mx-auto flex sm:flex-nowrap flex-wrap">
      <div class="lg:w-2/3 md:w-1/2 bg-gray-300 rounded-lg overflow-hidden sm:mr-10 p-10 flex items-end justify-start relative">
        <!-- <iframe width="100%" height="100%" class="absolute inset-0" frameborder="0" title="map" marginheight="0" marginwidth="0" scrolling="no" src="https://maps.google.com/maps?width=100%&height=600&hl=en&q=%C4%B0zmir+(My%20Business%20Name)&ie=UTF8&t=&z=14&iwloc=B&output=embed" style="filter: grayscale(1) contrast(1.2) opacity(0.4);"></iframe> -->
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.282882097456!2d106.80619127586822!3d-6.226384460980505!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69f1505affffff%3A0x301b8a0f5d2c33ed!2sEquity%20Tower!5e0!3m2!1sen!2sid!4v1706337482301!5m2!1sen!2sid" width="100%" height="100%" class="absolute inset-0  opacity-50" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        <div class="bg-white dark:bg-slate-300 relative flex flex-wrap py-6 rounded-xl shadow-md">
          <div class="lg:w-1/2 px-6">
            <h2 class="title-font font-semibold text-gray-900 tracking-widest text-xs">ALAMAT</h2>
            <p class="mt-1">Unit A, Equity Tower lantai 8, suite A, SCBD Jakarta Selatan</p>
          </div>
          <div class="lg:w-1/2 px-6 mt-4 lg:mt-0">
            <h2 class="title-font font-semibold text-gray-900 tracking-widest text-xs">EMAIL</h2>
            <a class="text-indigo-500 leading-relaxed" href="mailto:hai@pemimpindigital.id">hai@pemimpindigital.id</a>
            <h2 class="title-font font-semibold text-gray-900 tracking-widest text-xs mt-4">HP/WA</h2>
            <p class="leading-relaxed">08111 380 2734 / 0838 98888 168</p>
          </div>
        </div>
      </div>
      <div class="lg:w-1/3 md:w-1/2 flex flex-col md:ml-auto w-full md:py-8 mt-8 md:mt-0 p-4 rounded-xl border-solid border-2">
        <h2 class="text-lg mb-1 font-heading dark:text-white">Kontak Kami</h2>
        <p class="leading-relaxed mb-5 dark:text-white">Silakan berikan feedback atau pesan kepada kami</p>
        <form method="post">
          <input type="hidden" name="access_key" value='525026d5-1d7b-475d-ad97-a2d5c5793608'>
          <div class="relative mb-4">
            <label for="name" class="leading-7 text-sm dark:text-white">Nama</label>
            <Input type="text" id="name" name="name" className="w-full rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 dark:text-white py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
          </div>
          <div class="relative mb-4">
            <label for="email" class="leading-7 text-sm dark:text-white">Email</label>
            <Input type="email" id="email" name="email" required className="w-full rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 dark:text-white py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
          </div>
          <div class="relative mb-4">
            <label for="message" class="leading-7 text-sm dark:text-white">Pesan</label>
            <Textarea id="message" name="message" className="w-full rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 h-32 text-base outline-none text-gray-700 dark:text-white py-1 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"></textarea>
          </div>
          <Button type="submit" className="text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg w-full">Kirim</Button>
          <p class="text-xs text-gray-500 mt-3">Sekretariat APDI akan menghubungi anda kembali melalui email.</p>
          
        </form>
        
      </div>
    </div>
  </section>
</MainLayout>
